<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('settings', 'headerAndFooter')}"></head>
<meta name="_csrf" th:content="${_csrf.token}">
<meta name="_csrf_header" th:content="${_csrf.headerName}">
<body>
    <div th:replace="~{fragments/header :: header}"></div>
    <main>
        <h1 id="page-title">設定</h1>
        <section class="settings-section" id="user-name-container">
            <p>あなたの名前</p>
            <div class="name-container">
                <input type="text" id="user-name" th:value="${userName}" readonly>
                <button type="button" id="change-user-name">更新</button>
                <p id="user-name-error">名前が入力されていません</p>
                <button type="button" id="confirm-user-name">完了</button>
            </div>
        </section>
        <section class="settings-section" id="user-email-container">
            <p>あなたのメールアドレス</p>
            <div class="email-container">
                <input type="email" id="user-email" th:value="${#authentication.name}" readonly>
                <button type="button" id="change-user-email">更新</button>
                <p id="user-email-error">メールアドレスの形式が違います</p>
                <button type="button" id="confirm-user-email">完了</button>
            </div>
        </section>
        <section class="settings-section" id="user-line-container">
            <p>あなたのLINE ID</p>
            <div class="line-container">
                <input type="text" id="user-line" th:value="${userLineId}" readonly>
                <button type="button" id="change-user-line">更新</button>
                <p id="user-line-error">LINE IDの形式が違います</p>
                <button type="button" id="confirm-user-line">完了</button>
            </div>
        </section>
        <section class="settings-section" id="family-email-container">
            <p>ご家族のメールアドレス</p>
            <div class="email-container">
                <input type="email" id="family-email" th:value="${familyEmail}" readonly>
                <button type="button" id="change-family-email">更新</button>
                <p id="family-email-error">メールアドレスの形式が違います</p>
                <button type="button" id="confirm-family-email">完了</button>
            </div>
        </section>
        <section class="settings-section" id="family-line-container">
            <p>ご家族のLINE ID</p>
            <div class="line-container">
                <input type="text" id="family-line" th:value="${familyLineId}" readonly>
                <button type="button" id="change-family-line">更新</button>
                <p id="family-line-error">LINE IDの形式が違います</p>
                <button type="button" id="confirm-family-line">完了</button>
            </div>
        </section>
        <section class="settings-section" id="wakeUp-timetable-container">
            <p>起床の時間</p>
            <div class="timetable-container">
                <input type="text" id="wakeUp" th:value="${wakeUpTime}" readonly>
                <button type="button" id="change-wakeUp">更新</button>
                <p id="wakeUp-error">入力形式が違います</p>
                <button type="button" id="confirm-wakeUp">完了</button>
            </div>
        </section>
        <section class="settings-section" id="beforeBreakfast-timetable-container">
            <p>朝食前の時間</p>
            <div class="timetable-container">
                <input type="text" id="beforeBreakfast" th:value="${beforeBreakfastTime}" readonly>
                <button type="button" id="change-beforeBreakfast">更新</button>
                <p id="beforeBreakfast-error">入力形式が違います</p>
                <button type="button" id="confirm-beforeBreakfast">完了</button>
            </div>
        </section>
        <section class="settings-section" id="afterBreakfast-timetable-container">
            <p>朝食後の時間</p>
            <div class="timetable-container">
                <input type="text" id="afterBreakfast" th:value="${afterBreakfastTime}" readonly>
                <button type="button" id="change-afterBreakfast">更新</button>
                <p id="afterBreakfast-error">入力形式が違います</p>
                <button type="button" id="confirm-afterBreakfast">完了</button>
            </div>
        </section>
        <section class="settings-section" id="beforeLunch-timetable-container">
            <p>昼食前の時間</p>
            <div class="timetable-container">
                <input type="text" id="beforeLunch" th:value="${beforeLunchTime}" readonly>
                <button type="button" id="change-beforeLunch">更新</button>
                <p id="beforeLunch-error">入力形式が違います</p>
                <button type="button" id="confirm-beforeLunch">完了</button>
            </div>
        </section>
        <section class="settings-section" id="afterLunch-timetable-container">
            <p>昼食後の時間</p>
            <div class="timetable-container">
                <input type="text" id="afterLunch" th:value="${afterLunchTime}" readonly>
                <button type="button" id="change-afterLunch">更新</button>
                <p id="afterLunch-error">入力形式が違います</p>
                <button type="button" id="confirm-afterLunch">完了</button>
            </div>
        </section>
        <section class="settings-section" id="beforeDinner-timetable-container">
            <p>夕食前の時間</p>
            <div class="timetable-container">                
                <input type="text" id="beforeDinner" th:value="${beforeDinnerTime}" readonly>
                <button type="button" id="change-beforeDinner">更新</button>
                <p id="beforeDinner-error">入力形式が違います</p>
                <button type="button" id="confirm-beforeDinner">完了</button>
            </div>
        </section>
        <section class="settings-section" id="afterDinner-timetable-container">
            <p>夕食後の時間</p>
            <div class="timetable-container">
                <input type="text" id="afterDinner" th:value="${afterDinnerTime}" readonly>
                <button type="button" id="change-afterDinner">更新</button>
                <p id="afterDinner-error">入力形式が違います</p>
                <button type="button" id="confirm-afterDinner">完了</button>
            </div>
        </section>
        <section class="settings-section" id="beforeSleep-timetable-container">
            <p>寝る前の時間</p>
            <div class="timetable-container">
                <input type="text" id="beforeSleep" th:value="${beforeSleepTime}" readonly>
                <button type="button" id="change-beforeSleep">更新</button>
                <p id="beforeSleep-error">入力形式が違います</p>
                <button type="button" id="confirm-beforeSleep">完了</button>
            </div>
        </section>
        <section class="settings-section" id="betweenMeals-timetable-container">
            <p>食間の時間</p>
            <div class="timetable-container">
                <input type="text" id="betweenMeals" th:value="${betweenMealsTime}" readonly>
                <button type="button" id="change-betweenMeals">更新</button>
                <p id="betweenMeals-error">入力形式が違います</p>
                <button type="button" id="confirm-betweenMeals">完了</button>
            </div>
        </section>
        <button type="button" th:onclick="|location.href='@{/dashboard}'|">戻る</button>
        <dialog id="success-dialog">
            <h2 id="success-message"></h2>
            <p id="success-message2"></p>
            <button id="success-close-dialog">OK</button>
        </dialog>
        <dialog id="error-dialog">
            <h2 id="error-message"></h2>
            <button id="error-close-dialog">OK</button>
        </dialog>
        <dialog id="how-to-register-user-line-dialog">
            <h2>LINEを登録する方法</h2>
            <img src="/img/medishare-line-qr.png" alt="MediShare LINE QRコード">
            <p>LINEでこのQRコードをお友達登録してください</p>
            <p>その後、送られてきたLINEユーザIDを入力してください</p>
            <button id="how-to-register-user-line-close-dialog">OK</button>
        </dialog>
        <dialog id="how-to-register-family-line-dialog">
            <h2>ご家族のLINEを登録する方法</h2>
            <img src="/img/medishare-line-qr.png" alt="MediShare LINE QRコード">
            <p>ご家族にこのQRコードを送ってください</p>
            <p>その後、ご家族のLINEユーザIDを入力してください</p>
            <button id="how-to-register-family-line-close-dialog">OK</button>
        </dialog>
    </main>
    <div th:replace="~{fragments/footer :: footer}"></div>
    <script th:src="@{/js/settings.js}"></script>
</body>
</html>