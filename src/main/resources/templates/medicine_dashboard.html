<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('medicine_dashboard', 'sidebar')}"></head>
<meta name="_csrf" th:content="${_csrf.token}">
<meta name="_csrf_header" th:content="${_csrf.headerName}">
<body>
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>
    <main>
        <h1 id="page-title" th:text="${titleName} + 'のお薬'"></h1>
        <div id="search-container">
            <input type="text" id="search-input" placeholder="薬剤名を入力してください">
            <button id="search-button" type="button">
                <img th:src="@{/img/search-icon.png}" alt="検索アイコン">
            </button>
        </div>
        <div id="medicine-list-container">
            <div class="medicine-group" th:each="medicine : ${medicines}" th:attr="onclick=|location.href='@{/medicine_details(userMedicineId=${medicine.userMedicineId})}'|">
                <input type="hidden" class="hidden-user-medicine-id" th:value="${medicine.userMedicineId}">
                <img th:src="@{/img/pills-icon.png}" alt="お薬アイコン">
                <div class="medicine-name">
                    <h3 class="medicine-name-text" th:text="${medicine.medicineUserInput}"></h3>
                    <div class="prescription-days-container">
                        <img th:src="@{/img/calender-icon.png}" alt="カレンダーアイコン">
                        <p class="prescription-days-text" th:text="'残り ' + ${medicine.prescriptionDays} + '日分'"></p>
                    </div>
                </div>
                <input type="checkbox" class="medicine-checkbox" onclick="event.stopPropagation();">
            </div>
        </div>
        <div id="button-container">
                <button type="button" onclick="history.back()">戻る</button>
                <button type="submit" id="delete-button">削除</button>
        </div>
        <button id="toReportMedicine" type="button">
            <img th:src="@{/img/report-icon.png}" alt="報告アイコン">
        </button>
    </main>
    <script th:src="@{/js/medicine_dashboard.js}"></script>
</body>
</html>